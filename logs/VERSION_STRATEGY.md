# 🎯 효율적인 버전관리 전략 (VERSION STRATEGY)

> **The Moon Drip BAR - 버전관리 최적화 가이드**
> 작성: 2025-10-29 · 목표: 버전 올림 주기 균형 잡기

---

## 📊 현재 상황 분석

### 버전 히스토리 (0.0.1 → 1.5.2)
```
0.0.1 (초기)
  ↓
0.1.0 ~ 0.1.3 (Alpha Phase: 기본 구조 구현) → 4개 패치
  ↓
1.0.0 (Beta Phase 시작) → MAJOR 점프
  ↓
1.1.0 ~ 1.5.2 (Beta Phase: 기능 추가) → 4개 마이너 + 2개 패치
```

### 문제점 🔴
1. **MINOR 버전이 너무 자주 올라감**: 1.1.0 → 1.2.0 → 1.3.0 → 1.4.0 → 1.5.0 (5번)
2. **프로젝트 성숙도 불명확**: 0.1.3 → 1.0.0 점프 이유가 불분명
3. **CHANGELOG 미기록**: 모든 변경사항이 "변경사항 상세 기록 필요"로만 표시
4. **버전 올리는 기준 모호**: 문서 작업도, UI 개선도, 기능도 모두 올림

---

## 🎯 제안: 효율적인 버전관리 전략

### 1️⃣ Semantic Versioning 명확한 정의

```
MAJOR.MINOR.PATCH

MAJOR (x.0.0)
  ├─ 호환성 깨지는 API 변경
  ├─ 데이터베이스 스키마 변경
  ├─ 사용자 인터페이스 대규모 재설계
  └─ 예: 1.0.0, 2.0.0 (연 1~2회)

MINOR (1.x.0)
  ├─ 새로운 주요 기능 추가 (최소 3~4개 관련 업데이트 누적)
  ├─ 기존 기능의 대폭 개선
  ├─ 새로운 페이지/탭 추가
  └─ 예: 1.1.0, 1.2.0 (월 1~2회)

PATCH (1.5.x)
  ├─ 버그 수정
  ├─ 문서 업데이트
  ├─ 성능 개선
  ├─ UI 미세 조정
  └─ 예: 1.5.1, 1.5.2, 1.5.3 (주 1~3회)
```

---

### 2️⃣ 버전 올리는 기준 (명확한 규칙)

| 변경 유형 | 버전 | 누적 조건 | 주기 |
|---------|------|---------|------|
| 🐛 버그 수정 | PATCH | 3개 이상 | 주 1~3회 |
| 📝 문서 업데이트 | PATCH | 5개 이상 | 월 1회 |
| 🎨 UI 미세 조정 | PATCH | 5개 이상 | 월 1회 |
| ✨ 새 기능 (소) | PATCH | 3개 누적 | 월 1~2회 |
| 🚀 새 기능 (중) | MINOR | 3~4개 관련 기능 | 월 1회 |
| 💎 새 기능 (대) | MINOR | 5개+ 관련 기능 | 분기 1회 |
| 🔄 호환성 변경 | MAJOR | 필수 (1회만) | 년 1~2회 |

---

### 3️⃣ 추천 버전 관리 주기

```
📅 이상적인 주기:

PATCH 버전:
  ├─ 매 작업 세션 후 (보통 3~5개 변경사항 누적 시)
  └─ 예: 1.5.2 → 1.5.3 (1주)

MINOR 버전:
  ├─ 월 1회 (주요 기능 3~4개 추가 시)
  └─ 예: 1.5.0 → 1.6.0 (4주)

MAJOR 버전:
  ├─ 분기 1회 또는 필요시만 (매우 드물게)
  └─ 예: 1.0.0 → 2.0.0 (3개월+)
```

---

### 4️⃣ 현재 상태 제안

**현재**: `1.5.2` (Beta Phase)

**향후 계획**:
```
1.5.2 (현재: 세션 관리 시스템)
  ↓
1.5.3 ~ 1.5.5 (다음 2주: 작은 버그 수정/문서 개선)
  ↓
1.6.0 (다음 월: 새로운 기능 묶음)
  ↓
2.0.0 (프로덕션 배포: 2025년 12월~)
```

---

## 💡 효율적인 버전관리 규칙

### ✅ 해야 할 것

1. **버전 올리기 전에 CHANGELOG에 상세 내용 기록**
   ```
   ✅ 좋은 예:
   ## [1.5.3] - 2025-11-05

   ### 🐛 패치 수정
   - 로스팅 기록 저장 시 타임스탬프 오류 수정
   - 원두 가격 입력 validation 오류 수정
   - 차트 로딩 성능 30% 개선

   ❌ 나쁜 예:
   ## [1.5.3] - 2025-11-05
   변경사항 상세 기록 필요
   ```

2. **세션 단위 vs 버전 올림 분리**
   ```
   세션 1: 버그 3개 수정 → PATCH 올림 (1.5.2 → 1.5.3)
   세션 2: 문서 5개 개선 → PATCH 올림 (1.5.3 → 1.5.4)
   세션 3: 새 기능 4개 추가 → MINOR 올림 (1.5.4 → 1.6.0)
   ```

3. **누적 기준 만족 시에만 버전 올림**
   - 버그 수정: 3개 이상 누적 → PATCH
   - 새 기능: 3~4개 관련 기능 → MINOR

### ❌ 하지 말 것

1. **매 세션마다 버전 올리기** ❌
2. **변경사항 미기록 후 버전 올리기** ❌
3. **문서 업데이트로 MINOR 올리기** ❌
4. **PATCH 수정 3개 미만일 때 버전 올리기** ❌

---

## 📋 실행 계획

### Step 1: 현재 버전 정책 재정의
```bash
# 현재 상황 인정:
현재 버전: 1.5.2
상태: Beta Phase (기능 개발 중)
목표: 2.0.0 (프로덕션 배포, 2025년 12월)
```

### Step 2: 이전 버전 히스토리 정리 (선택)
```
✅ 추천: 현재 상태 그대로 유지 (롤백 불필요)
   이유: 1.5.2가 현재 상태를 정확히 반영

또는

❌ 선택: 버전 리셋 (1.5.2 → 1.0.0-beta.5)
   이유: Semantic Versioning 엄격하게 적용
   단점: 히스토리 손실
```

### Step 3: CHANGELOG 보수 (필수)
```bash
# 각 버전의 상세 내용 기록
- 1.5.0: Phase 3 활성 페이지 자동 감지 기능
- 1.5.1: UI 버그 수정 및 사이드바 컴포넌트
- 1.5.2: 세션 관리 시스템 통일

모든 "변경사항 상세 기록 필요" → 실제 내용으로 변경
```

### Step 4: 새로운 버전 정책 CLAUDE.md에 기록
```bash
# CLAUDE.md에 추가:
- 버전 올리는 구체적인 기준
- MINOR vs PATCH 판단 기준
- 월별 예상 버전 계획
```

---

## 📊 향후 버전 계획 (추천)

```
현재: 1.5.2 (2025-10-29, Beta Phase)

2주 후: 1.5.3 (버그 수정 3개)
4주 후: 1.5.4 (문서 개선 5개)
6주 후: 1.6.0 (새 기능 4개) ← MINOR 올림
8주 후: 1.6.1 (버그 수정 2개)
10주 후: 1.7.0 (새 기능 3개) ← MINOR 올림
12주 후: 2.0.0 (프로덕션 배포) ← MAJOR 올림
```

---

## 🎯 최종 정리

### 핵심 원칙 3가지

1. **PATCH**: 3개 미만 변경 (버그/문서)
2. **MINOR**: 3~4개 이상 새 기능 추가 (월 1회)
3. **MAJOR**: 호환성 변경 (년 1~2회)

### 세션별 체크리스트

```
✅ 각 세션 종료 시:
- [ ] CHANGELOG.md에 상세 내용 기록
- [ ] 변경사항 개수 확인
- [ ] 버전 올림 조건 검토
- [ ] 필요시에만 버전 올림
- [ ] VERSION, README.md, CLAUDE.md 동기화
```

---

**마지막 업데이트**: 2025-10-29
**현재 상태**: Beta Phase (1.5.2)
**목표**: 2.0.0 프로덕션 배포 (2025년 12월)
